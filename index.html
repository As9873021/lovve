<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>çµ¦å¦³çš„ç§˜å¯†å°å®‡å®™ ğŸ’–</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet" />

  <style>
    :root {
      --bg-gradient: radial-gradient(circle at top left, #ff9a9e 0%, #fad0c4 40%, #fbc2eb 100%);
      --card-bg: rgba(255, 255, 255, 0.18);
      --card-border: rgba(255, 255, 255, 0.4);
      --accent: #ff5c9a;
      --accent-soft: rgba(255, 92, 154, 0.2);
      --text-main: #3c3c3c;
      --text-light: #ffffff;
      --shadow-soft: 0 18px 45px rgba(0, 0, 0, 0.18);
      --radius-xl: 24px;
      --transition-fast: 0.25s ease;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      height: 100%;
    }

    body {
      font-family: "Poppins", system-ui, -apple-system, BlinkMacSystemFont, "Microsoft JhengHei", sans-serif;
      background: var(--bg-gradient);
      min-height: 100vh;
      color: var(--text-main);
      display: flex;
      justify-content: center;
      padding: 32px 16px;
      position: relative;
      overflow-x: hidden;
    }

    /* Three.js èƒŒæ™¯ canvas å®¹å™¨ */
    #three-bg {
      position: fixed;
      inset: 0;
      z-index: -1;
      pointer-events: none;
    }

    .app-shell {
      width: 100%;
      max-width: 1080px;
      background: radial-gradient(circle at top left, rgba(255, 255, 255, 0.35), rgba(255, 255, 255, 0.12));
      border-radius: 32px;
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(255, 255, 255, 0.7);
      padding: 24px;
      backdrop-filter: blur(18px);
      position: relative;
      overflow: hidden;
    }

    .floating-heart {
      position: absolute;
      width: 160px;
      height: 160px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #ffe6f0, rgba(255, 255, 255, 0));
      opacity: 0.6;
      filter: blur(1px);
      pointer-events: none;
      animation: floatHeart 14s ease-in-out infinite alternate;
    }
    .floating-heart.h1 { top: -40px; left: -40px; }
    .floating-heart.h2 { bottom: -30px; right: -30px; animation-duration: 18s; }

    @keyframes floatHeart {
      0% { transform: translate3d(0, 0, 0) scale(1); opacity: 0.8; }
      100% { transform: translate3d(40px, -20px, 0) scale(1.15); opacity: 0.4; }
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      margin-bottom: 24px;
      position: relative;
      z-index: 1;
    }

    .title-wrap {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .subtitle {
      font-size: 14px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: rgba(60, 60, 60, 0.7);
    }

    h1 {
      font-size: clamp(24px, 4vw, 30px);
      font-weight: 700;
      color: var(--text-main);
    }

    .name-highlight {
      color: var(--accent);
      position: relative;
    }
    .name-highlight::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: -4px;
      width: 100%;
      height: 6px;
      border-radius: 999px;
      background: linear-gradient(90deg, rgba(255, 92, 154, 0.3), rgba(255, 255, 255, 0));
      pointer-events: none;
    }

    .relationship-meta {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 16px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.8);
      border: 1px solid rgba(255, 255, 255, 0.9);
      box-shadow: 0 8px 18px rgba(0, 0, 0, 0.12);
    }

    .meta-label {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: rgba(60, 60, 60, 0.7);
    }

    .meta-days {
      font-weight: 700;
      font-size: 18px;
      color: var(--accent);
      display: flex;
      align-items: baseline;
      gap: 4px;
    }

    .meta-days span {
      font-size: 13px;
      font-weight: 400;
      color: rgba(60, 60, 60, 0.75);
    }

    .sections {
      display: grid;
      grid-template-columns: minmax(0, 2fr) minmax(0, 1.4fr);
      gap: 20px;
      position: relative;
      z-index: 1;
    }

    @media (max-width: 900px) {
      .sections {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .card {
      background: var(--card-bg);
      border-radius: var(--radius-xl);
      border: 1px solid var(--card-border);
      padding: 18px 18px 16px;
      box-shadow: 0 14px 35px rgba(0, 0, 0, 0.12);
      backdrop-filter: blur(18px);
      position: relative;
      overflow: hidden;
    }

    .card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 12px;
      gap: 8px;
    }

    .card-title {
      font-size: 16px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .pill {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.7);
      background: rgba(255, 255, 255, 0.8);
      color: rgba(60, 60, 60, 0.7);
    }

    .pill-accent {
      background: rgba(255, 92, 154, 0.16);
      border-color: rgba(255, 92, 154, 0.5);
      color: var(--accent);
    }

    .card-body {
      font-size: 14px;
      line-height: 1.6;
    }

    .hero-message {
      margin-bottom: 12px;
      font-size: 15px;
    }

    .hero-highlight {
      font-weight: 600;
      color: var(--accent);
    }

    .hero-photo {
      margin-top: 8px;
      display: flex;
      gap: 12px;
      align-items: center;
      flex-wrap: wrap;
    }

    .avatar-circle {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background-position: center;
      background-size: cover;
      background-repeat: no-repeat;
      border: 2px solid rgba(255, 255, 255, 0.9);
      box-shadow: 0 10px 22px rgba(0, 0, 0, 0.16);
    }

    .hero-caption {
      font-size: 13px;
      color: rgba(60, 60, 60, 0.75);
    }

    button {
      border: none;
      outline: none;
      cursor: pointer;
      font-family: inherit;
    }

    .btn {
      font-size: 13px;
      padding: 8px 14px;
      border-radius: 999px;
      border: 1px solid transparent;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: transform var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast), border var(--transition-fast), color var(--transition-fast);
      background: rgba(255, 255, 255, 0.9);
      color: var(--text-main);
      box-shadow: 0 9px 18px rgba(0, 0, 0, 0.12);
    }

    .btn-primary {
      background: linear-gradient(135deg, #ff5c9a, #ff758c);
      color: var(--text-light);
      border-color: rgba(255, 255, 255, 0.85);
    }

    .btn-outline {
      background: transparent;
      border-color: rgba(255, 255, 255, 0.9);
      color: rgba(60, 60, 60, 0.85);
    }

    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.16);
    }

    .btn:active {
      transform: translateY(0);
      box-shadow: 0 7px 14px rgba(0, 0, 0, 0.14);
    }

    .timeline {
      margin-top: 4px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      position: relative;
      padding-left: 10px;
    }

    .timeline::before {
      content: "";
      position: absolute;
      left: 4px;
      top: 4px;
      bottom: 4px;
      width: 2px;
      background: linear-gradient(to bottom, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.4));
    }

    .timeline-item {
      position: relative;
      padding-left: 18px;
      padding-right: 6px;
    }

    .timeline-dot {
      position: absolute;
      left: -2px;
      top: 6px;
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: #fff;
      border: 2px solid var(--accent);
      box-shadow: 0 0 0 6px var(--accent-soft);
    }

    .timeline-date {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: rgba(60, 60, 60, 0.65);
      margin-bottom: 2px;
    }

    .timeline-title {
      font-size: 14px;
      font-weight: 600;
    }

    .timeline-note {
      font-size: 12px;
      color: rgba(60, 60, 60, 0.8);
      margin-top: 1px;
    }

    .reasons-box {
      margin-top: 4px;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 16px;
      padding: 10px 12px;
      border: 1px solid rgba(255, 255, 255, 0.9);
      min-height: 52px;
      display: flex;
      align-items: center;
      font-size: 14px;
      position: relative;
      overflow: hidden;
    }

    .reasons-label {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: rgba(60, 60, 60, 0.7);
      margin-bottom: 4px;
    }

    .reasons-text {
      animation: fadeIn 0.3s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(2px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .wish-list {
      list-style: none;
      margin-top: 8px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .wish-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 7px 10px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.94);
      border: 1px solid rgba(255, 255, 255, 0.9);
      font-size: 13px;
    }

    .wish-item input[type="checkbox"] {
      width: 16px;
      height: 16px;
      cursor: pointer;
      accent-color: var(--accent);
    }

    .wish-item.done {
      text-decoration: line-through;
      color: rgba(60, 60, 60, 0.5);
      background: rgba(255, 255, 255, 0.8);
    }

    .console-chat {
      font-family: "Fira Code", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      background: #12121f;
      color: #e4e4ff;
      border-radius: 16px;
      padding: 10px 12px;
      font-size: 12px;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .console-line {
      white-space: pre-wrap;
      word-break: break-word;
      line-height: 1.5;
    }

    .console-prefix {
      color: #7dd3fc;
    }

    .console-highlight {
      color: #fb7185;
      font-weight: 600;
    }

    .footer-note {
      margin-top: 12px;
      font-size: 11px;
      color: rgba(60, 60, 60, 0.7);
      text-align: right;
    }

    .footer-note span {
      font-weight: 600;
      color: var(--accent);
    }

    .secret-toggle {
      margin-top: 10px;
    }

    .secret-toggle span {
      font-size: 12px;
      color: rgba(60, 60, 60, 0.8);
    }

    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.32);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 50;
      padding: 16px;
    }

    .modal-backdrop.show {
      display: flex;
    }

    .modal {
      background: radial-gradient(circle at top left, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.9));
      border-radius: 24px;
      padding: 18px 18px 14px;
      max-width: 360px;
      width: 100%;
      box-shadow: 0 18px 46px rgba(0, 0, 0, 0.32);
      border: 1px solid rgba(255, 255, 255, 0.9);
      animation: modalPop 0.22s ease-out;
    }

    @keyframes modalPop {
      from { opacity: 0; transform: translateY(6px) scale(0.98); }
      to { opacity: 1; transform: translateY(0) scale(1); }
    }

    .modal-title {
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 6px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .modal-body {
      font-size: 14px;
      line-height: 1.7;
      color: #3f3f3f;
      margin-bottom: 10px;
    }

    .modal-actions {
      display: flex;
      justify-content: flex-end;
      gap: 8px;
    }

    .hearts-layer {
      position: fixed;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: 40;
    }

    .heart-confetti {
      position: absolute;
      width: 16px;
      height: 16px;
      background: radial-gradient(circle at 30% 30%, #fff, #ff5c9a);
      transform: rotate(45deg);
      border-radius: 4px 4px 0 4px;
      opacity: 0.9;
      animation: fall 5s linear infinite;
    }

    .heart-confetti::after,
    .heart-confetti::before {
      content: "";
      position: absolute;
      width: 16px;
      height: 16px;
      background: radial-gradient(circle at 30% 30%, #fff, #ff5c9a);
      border-radius: 50%;
    }

    .heart-confetti::before {
      top: -8px;
      left: 0;
    }

    .heart-confetti::after {
      left: -8px;
      top: 0;
    }

    @keyframes fall {
      0% { transform: translate3d(0, -20vh, 0) rotate(0deg); opacity: 0.9; }
      100% { transform: translate3d(0, 100vh, 0) rotate(340deg); opacity: 0; }
    }
  </style>
</head>
<body>
  <!-- Three.js èƒŒæ™¯å®¹å™¨ -->
  <div id="three-bg"></div>

  <div class="app-shell">
    <div class="floating-heart h1"></div>
    <div class="floating-heart h2"></div>

    <header>
      <div class="title-wrap">
        <div class="subtitle">FOR <span class="name-highlight">TODO_å¥³å‹åå­—</span></div>
        <h1>çµ¦å¦³çš„ç§˜å¯†å°å®‡å®™ ğŸ’Œ</h1>
      </div>
      <div class="relationship-meta">
        <div class="meta-label">æˆ‘å€‘åœ¨ä¸€èµ·å·²ç¶“</div>
        <div class="meta-days" id="days-counter">
          0<span>å¤©</span>
        </div>
      </div>
    </header>

    <main class="sections">
      <!-- å·¦ï¼šé¦–é  -->
      <section class="card">
        <div class="card-header">
          <div class="card-title">
            âœ¨ å°ˆå±¬å¦³çš„é¦–é 
          </div>
          <div class="pill pill-accent">å®Œå…¨å®¢è£½</div>
        </div>
        <div class="card-body">
          <div class="hero-message">
            è¦ªæ„›çš„ <span class="hero-highlight">TODO_æš±ç¨±</span>ï¼Œé€™å€‹å°å°çš„ç¶²ç«™ï¼Œæ˜¯åªå±¬æ–¼å¦³çš„æ”¶è—å¤¾ã€‚  
            ä¸ç”¨ç™»å…¥ã€ä¸ç”¨è¨»å†Šï¼Œåªè¦å¦³æ‰“é–‹ï¼Œå®ƒå°±æœƒä¹–ä¹–åœ¨é€™è£¡ç­‰å¦³ã€‚
          </div>
          <div class="hero-photo">
            <div
              class="avatar-circle"
              style="background-image: url('assets/cover.jpg');"
            ></div>
            <div class="hero-caption">
              é€™è£¡ä»¥å¾Œå¯ä»¥æ”¾æˆ‘å€‘çš„åˆç…§ã€æ—…éŠç…§ï¼Œæ…¢æ…¢ç´¯ç©æˆä¸€å€‹å°ˆå±¬æˆ‘å€‘çš„ç›¸ç°¿ã€‚
            </div>
          </div>

          <div style="margin-top: 14px; display: flex; gap: 8px; flex-wrap: wrap;">
            <button class="btn btn-primary" id="secretBtn">
              ğŸ” è§£é–ä¸€æ®µå·å·å¯«çµ¦å¦³çš„è©±
            </button>
            <button class="btn btn-outline" id="celebrateBtn">
              ğŸ‰ æ’’æ»¿æ•´å€‹ç•«é¢çš„æ„›å¿ƒ
            </button>
          </div>
        </div>
      </section>

      <!-- å³ï¼šæˆ‘æ„›å¦³çš„ç†ç”± -->
      <section class="card">
        <div class="card-header">
          <div class="card-title">
            ğŸ’— æˆ‘å–œæ­¡å¦³çš„å¾ˆå¤šç†ç”±
          </div>
          <div class="pill">Random Love API</div>
        </div>
        <div class="card-body">
          <div class="reasons-label">éš¨æ©ŸæŠ½ä¸€å€‹ç†ç”±</div>
          <div class="reasons-box">
            <div id="reasonText" class="reasons-text">
              æŒ‰ä¸‹ä¸‹é¢çš„æŒ‰éˆ•ï¼Œå¦³æ¯æ¬¡éƒ½å¯ä»¥æŠ½åˆ°ä¸€å€‹æ–°çš„ç†ç”±ã€‚
            </div>
          </div>
          <div style="margin-top: 8px; display: flex; gap: 8px; align-items: center;">
            <button class="btn btn-primary" id="nextReasonBtn">
              ğŸ’Œ å†è½ä¸€å€‹
            </button>
            <span style="font-size: 11px; color: rgba(60,60,60,.7);">
              ï¼ˆé€™å€‹æ¸…å–®æœƒä¸€ç›´è¢«æˆ‘å·å·æ›´æ–°ï¼‰
            </span>
          </div>

          <hr style="border: none; border-top: 1px dashed rgba(255,255,255,0.7); margin: 12px 0;" />

          <div class="card-header" style="padding: 0; margin-bottom: 6px;">
            <div class="card-title" style="font-size: 14px;">
              ğŸŒˆ æœªä¾†æƒ³è·Ÿå¦³ä¸€èµ·åšçš„äº‹
            </div>
          </div>
          <ul class="wish-list" id="wishList">
            <li class="wish-item">
              <input type="checkbox" />
              <span>ä¸€èµ·å» <strong>TODO_ä½ å€‘æƒ³å»çš„åŸå¸‚</strong> çœ‹å¤œæ™¯</span>
            </li>
            <li class="wish-item">
              <input type="checkbox" />
              <span>æ‰¾ä¸€å¤©å®Œå…¨ä¸çœ‹æ‰‹æ©Ÿï¼Œåªé™ªå¦³ç™¼å‘†èŠå¤©</span>
            </li>
            <li class="wish-item">
              <input type="checkbox" />
              <span>å¸¶å¦³å»åƒé‚£å®¶å¦³ä¸€ç›´èªªæƒ³è©¦è©¦çœ‹çš„é¤å»³</span>
            </li>
            <li class="wish-item">
              <input type="checkbox" />
              <span>æŸä¸€å€‹æ™®é€šçš„æ˜ŸæœŸäºŒï¼Œçªç„¶å¸¶å¦³å»çœ‹é›»å½±</span>
            </li>
          </ul>

          <div class="secret-toggle">
            <span>ä¹‹å¾Œå¦‚æœå¦³ä¹Ÿæƒ³æ–°å¢æƒ³åšçš„äº‹ï¼Œå¯ä»¥è·Ÿæˆ‘èªªï¼Œæˆ‘æœƒå¹«å¦³åŠ é€²ä¾†ã€‚</span>
          </div>
        </div>
      </section>

      <!-- å·¦ï¼šæ™‚é–“è»¸ -->
      <section class="card">
        <div class="card-header">
          <div class="card-title">
            ğŸ•° Love Timeline
          </div>
          <div class="pill">Milestones</div>
        </div>
        <div class="card-body">
          <p style="font-size: 13px; margin-bottom: 6px;">
            é€™è£¡æ˜¯æˆ‘å€‘çš„æ™‚é–“è»¸ï¼Œä¹‹å¾Œå¯ä»¥æ…¢æ…¢å¾€ä¸‹å»¶ä¼¸ï¼Œè®Šæˆä¸€æ•´æ¢åªå±¬æ–¼æˆ‘å€‘çš„æ•…äº‹ç·šã€‚
          </p>
          <div class="timeline">
            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-date">TODO_ç¬¬ä¸€æ¬¡èŠå¤©çš„æ—¥æœŸ</div>
              <div class="timeline-title">ç¬¬ä¸€æ¬¡å‡ºç¾åœ¨å½¼æ­¤çš„ä¸–ç•Œè£¡</div>
              <div class="timeline-note">
                é‚£å¤©å¦‚æœæˆ‘æ²’æœ‰å›å¦³é‚£ä¸€å¥è¨Šæ¯ï¼Œç¾åœ¨çš„æˆ‘æ‡‰è©²æœƒå¾Œæ‚”ä¸€è¼©å­ã€‚
              </div>
            </div>
            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-date">TODO_ç¬¬ä¸€æ¬¡è¦‹é¢çš„æ—¥æœŸ</div>
              <div class="timeline-title">ç¬¬ä¸€æ¬¡è¦‹é¢</div>
              <div class="timeline-note">
                å¦³ä¸€å‡ºç¾ï¼Œæˆ‘å°±çŸ¥é“ï¼Œã€Œå•Šï¼Œå®Œè›‹äº†ï¼Œæˆ‘æœƒå¾ˆå–œæ­¡é€™å€‹äººã€ã€‚
              </div>
            </div>
            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-date">TODO_åœ¨ä¸€èµ·çš„æ—¥æœŸ</div>
              <div class="timeline-title">Officially åœ¨ä¸€èµ·</div>
              <div class="timeline-note">
                é‚£å¤©ä¹‹å¾Œï¼Œæ¯ä¸€å€‹ç™½å¤©ã€æ¯ä¸€å€‹æ™šä¸Šï¼Œéƒ½å¤šäº†ä¸€å€‹æˆ‘ä¸€ç›´æƒ¦è¨˜è‘—çš„äººã€‚
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- å³ï¼šDev console å‘Šç™½ -->
      <section class="card">
        <div class="card-header">
          <div class="card-title">
            ğŸ§  é–‹ç™¼è€…æ¨¡å¼çš„æˆ‘
          </div>
          <div class="pill">Dev Console</div>
        </div>
        <div class="card-body">
          <p style="font-size: 13px; margin-bottom: 6px;">
            é€™æ˜¯å°ˆé–€å¯«çµ¦æœƒå·çœ‹ console çš„å¦³ã€‚æ²’äººçœ‹å¾—æ‡‚ï¼Œä½†æˆ‘çŸ¥é“å¦³ä¸€å®šæœƒçœ‹åˆ°ã€‚
          </p>
          <div class="console-chat">
            <div class="console-line">
              <span class="console-prefix">>_</span>
              <span> booting <span class="console-highlight">love.app()</span> for <span class="console-highlight">TODO_å¥³å‹åå­—</span>...</span>
            </div>
            <div class="console-line">
              <span class="console-prefix">>_</span>
              <span> status: <span class="console-highlight">always_thinking_of_you</span></span>
            </div>
            <div class="console-line">
              <span class="console-prefix">>_</span>
              <span> tip: å¦‚æœå¦³ç¾åœ¨çœŸçš„æœ‰åœ¨çœ‹ console ï¼Œä»£è¡¨å¦³çœŸçš„å¾ˆå¯æ„›ã€‚</span>
            </div>
          </div>
          <div class="footer-note">
            made with way too much <span>æ„›</span> by TODO_ä½ çš„åå­—
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- æ„›å¿ƒé›¨ -->
  <div class="hearts-layer" id="heartsLayer"></div>

  <!-- ç§˜å¯†è¨Šæ¯ Modal -->
  <div class="modal-backdrop" id="modalBackdrop">
    <div class="modal">
      <div class="modal-title">
        ğŸ’– çµ¦å¦³çš„å°å°å°ˆå±¬è¨Šæ¯
      </div>
      <div class="modal-body">
        å…¶å¯¦é€™å€‹ç¶²ç«™çš„æ¯ä¸€å€‹å­—ã€æ¯ä¸€å€‹é¡è‰²ã€æ¯ä¸€å€‹å°å‹•ç•«ï¼Œ  
        éƒ½æ˜¯å› ç‚ºæœ‰å¦³ï¼Œæˆ‘æ‰æœƒæƒ³è¦åšå‡ºä¾†ã€‚  
        ä»¥å¾Œå¦‚æœå¦³å“ªå¤©å¿ƒæƒ…ä¸å¥½ã€è¦ºå¾—å¾ˆç´¯ï¼Œå¯ä»¥å›ä¾†é€™è£¡ï¼Œ  
        è‡³å°‘é€™è£¡æœƒä¸€ç›´æé†’å¦³ï¼š  
        <br /><br />
        â€”â€” æœ‰ä¸€å€‹äººï¼Œæ°¸é æŠŠå¦³æ”¾åœ¨å¿ƒè£¡å¾ˆé‡è¦çš„é‚£å€‹ä½ç½®ã€‚
      </div>
      <div class="modal-actions">
        <button class="btn btn-outline" id="closeModalBtn">
          å¥½å•¦æ‡‚å•¦ ğŸ™ˆ
        </button>
      </div>
    </div>
  </div>

  <!-- Three.js CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r152/three.min.js"></script>

  <script>
    // TODO: æŠŠé€™å€‹æ—¥æœŸæ”¹æˆä½ å€‘ã€Œåœ¨ä¸€èµ·ã€çš„æ—¥å­ï¼ˆæ ¼å¼ï¼šYYYY-MM-DDï¼‰
    const startDate = "2023-01-01";

    function calculateDaysTogether() {
      const start = new Date(startDate + "T00:00:00");
      const now = new Date();
      const diffMs = now - start;
      const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));
      const counterEl = document.getElementById("days-counter");
      if (diffDays >= 0) {
        counterEl.innerHTML = diffDays + "<span>å¤©</span>";
      }
    }

    const reasons = [
      "å¦³è¬›è©±çš„æ™‚å€™ï¼Œçœ¼ç›æœƒäº®èµ·ä¾†ï¼Œé‚£å€‹ç•«é¢å¾ˆå®¹æ˜“åœ¨æˆ‘è…¦è¢‹è£¡é‡æ’­ã€‚",
      "å°±ç®—å¦³è‡ªå·±è¦ºå¾—å¾ˆæ™®é€šçš„ä¸€å¤©ï¼Œæˆ‘éƒ½æœƒè¦ºå¾—ï¼Œåªè¦æœ‰å¦³ï¼Œå°±æ˜¯ç‰¹åˆ¥çš„ä¸€å¤©ã€‚",
      "å¦³çœŸçš„å¾ˆèªçœŸåœ¨éç”Ÿæ´»ï¼Œé€™ä»¶äº‹è®“æˆ‘å¾ˆä½©æœï¼Œä¹Ÿå¾ˆæƒ³å¥½å¥½å®ˆè­·å¦³ã€‚",
      "å¦³ç¬‘èµ·ä¾†çš„æ¨£å­ï¼Œå¾ˆå®¹æ˜“æŠŠæˆ‘ä¸€å¤©çš„ç–²æ†Šç›´æ¥æ¸…ç©ºã€‚",
      "è·Ÿå¦³åœ¨ä¸€èµ·çš„æ™‚å€™ï¼Œæˆ‘æœƒå¾ˆè‡ªç„¶åœ°æƒ³æˆç‚ºæ›´å¥½çš„äººã€‚",
      "å¦³æœ‰è‡ªå·±çš„æƒ³æ³•ï¼Œä¹Ÿé¡˜æ„è½åˆ¥äººçš„æƒ³æ³•ï¼Œé€™é»è¶…ç´šè¿·äººã€‚",
      "æœ‰æ™‚å€™å¦³ä¸èªªè©±ï¼Œä½†æˆ‘é‚„æ˜¯å¯ä»¥æ„Ÿè¦ºåˆ°å¦³çš„æº«æŸ”ã€‚",
      "å¦³å°åœ¨ä¹çš„äººçœŸçš„å¾ˆå¥½ï¼Œå¾ˆæº«æŸ”ï¼Œä¹Ÿå¾ˆé¡˜æ„ä»˜å‡ºã€‚",
      "æœ‰å¦³åœ¨æ—é‚Šçš„æ™‚å€™ï¼Œä¸–ç•Œå¥½åƒéƒ½æ¯”è¼ƒä¸é‚£éº¼å¯æ€•ã€‚",
      "å¦³å…¶å¯¦æ¯”è‡ªå·±æƒ³åƒçš„é‚„è¦å€¼å¾—è¢«çæƒœï¼Œè€Œæˆ‘æƒ³ç•¶é‚£å€‹æœ€èªçœŸçæƒœå¦³çš„äººã€‚"
    ];

    function pickRandomReason() {
      const textEl = document.getElementById("reasonText");
      const random = reasons[Math.floor(Math.random() * reasons.length)];
      textEl.style.opacity = 0;
      setTimeout(() => {
        textEl.textContent = random;
        textEl.style.opacity = 1;
      }, 150);
    }

    function setupWishList() {
      const list = document.getElementById("wishList");
      list.querySelectorAll("input[type='checkbox']").forEach((checkbox) => {
        checkbox.addEventListener("change", (e) => {
          const item = e.target.closest(".wish-item");
          if (e.target.checked) {
            item.classList.add("done");
          } else {
            item.classList.remove("done");
          }
        });
      });
    }

    const modalBackdrop = document.getElementById("modalBackdrop");
    const secretBtn = document.getElementById("secretBtn");
    const closeModalBtn = document.getElementById("closeModalBtn");

    secretBtn.addEventListener("click", () => {
      modalBackdrop.classList.add("show");
    });

    closeModalBtn.addEventListener("click", () => {
      modalBackdrop.classList.remove("show");
    });

    modalBackdrop.addEventListener("click", (e) => {
      if (e.target === modalBackdrop) {
        modalBackdrop.classList.remove("show");
      }
    });

    const heartsLayer = document.getElementById("heartsLayer");
    const celebrateBtn = document.getElementById("celebrateBtn");

    function spawnHearts(durationMs = 2500) {
      const count = 40;
      for (let i = 0; i < count; i++) {
        const heart = document.createElement("div");
        heart.className = "heart-confetti";
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.animationDelay = Math.random() * 2 + "s";
        heart.style.animationDuration = 3 + Math.random() * 3 + "s";
        heartsLayer.appendChild(heart);
        setTimeout(() => heart.remove(), durationMs + 3000);
      }
    }

    celebrateBtn.addEventListener("click", () => {
      spawnHearts();
    });

    // ===== Three.js 3D æ„›å¿ƒèƒŒæ™¯ =====
    function initThreeBg() {
      const container = document.getElementById("three-bg");
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(
        45,
        window.innerWidth / window.innerHeight,
        0.1,
        100
      );
      camera.position.z = 6;

      const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
      renderer.setPixelRatio(window.devicePixelRatio);
      renderer.setSize(window.innerWidth, window.innerHeight);
      container.appendChild(renderer.domElement);

      const ambient = new THREE.AmbientLight(0xffffff, 0.7);
      scene.add(ambient);

      const dirLight = new THREE.DirectionalLight(0xffffff, 0.8);
      dirLight.position.set(3, 4, 5);
      scene.add(dirLight);

      const heartShape = new THREE.Shape();
      const x = 0, y = 0;
      heartShape.moveTo(x + 0, y + 0);
      heartShape.bezierCurveTo(x + 0, y - 0.5, x - 1.2, y - 0.5, x - 1.2, y + 0.3);
      heartShape.bezierCurveTo(x - 1.2, y + 1.1, x - 0.3, y + 1.7, x + 0, y + 2.1);
      heartShape.bezierCurveTo(x + 0.3, y + 1.7, x + 1.2, y + 1.1, x + 1.2, y + 0.3);
      heartShape.bezierCurveTo(x + 1.2, y - 0.5, x + 0, y - 0.5, x + 0, y + 0);

      const extrudeSettings = {
        depth: 0.6,
        bevelEnabled: true,
        bevelSegments: 10,
        steps: 2,
        bevelSize: 0.25,
        bevelThickness: 0.25
      };

      const geometry = new THREE.ExtrudeGeometry(heartShape, extrudeSettings);
      geometry.center();

      const material = new THREE.MeshStandardMaterial({
        color: 0xff5c9a,
        metalness: 0.3,
        roughness: 0.25,
        emissive: 0x220010,
        emissiveIntensity: 0.35
      });

      const heartMesh = new THREE.Mesh(geometry, material);
      heartMesh.scale.set(1.4, 1.4, 1.4);
      heartMesh.position.set(0.2, 0.4, 0);
      scene.add(heartMesh);

      const bgGeo = new THREE.SphereGeometry(30, 32, 32);
      const bgMat = new THREE.MeshBasicMaterial({
        color: 0xffc1e3,
        side: THREE.BackSide
      });
      const bg = new THREE.Mesh(bgGeo, bgMat);
      scene.add(bg);

      function onResize() {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      }
      window.addEventListener("resize", onResize);

      function animate() {
        requestAnimationFrame(animate);
        heartMesh.rotation.y += 0.01;
        heartMesh.rotation.x = Math.sin(Date.now() * 0.0004) * 0.2 + 0.2;
        renderer.render(scene, camera);
      }
      animate();
    }

    window.addEventListener("DOMContentLoaded", () => {
      calculateDaysTogether();
      setupWishList();
      pickRandomReason();
      initThreeBg();
    });
  </script>
</body>
</html>
